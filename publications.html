<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Publications · Barbosa Lab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="assets/css/main.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>

  <style>
    /* ------- Base ------- */
    html, body { overflow-x: hidden; }
    body { padding-top: 64px; }

    /* Top navigation (same as your index) */
    .topnav {
      position: fixed; inset: 0 0 auto 0;
      z-index: 10003;
      background: rgba(0,0,0,0.15);
      border-bottom: 1px solid rgba(255,255,255,0.5);
      backdrop-filter: saturate(120%) blur(6px);
    }
    .topnav .inner {
      max-width: 960px; margin: 0 auto; height: 60px;
      display: flex; align-items: center; justify-content: space-between;
      gap: 18px; padding: 0 18px;
    }
    .brand { display: flex; align-items: center; gap: 10px; }
    .brand img { height: 40px; width: auto; filter: drop-shadow(0 0 4px rgba(0,0,0,0.3)); }
    .brand a { display: flex; align-items: center; gap: 10px; font-weight: 800; font-size: 1.5em; color: #fff; text-decoration: none; }
    .topnav .brand a, .topnav .brand a:visited,
    .topnav .brand a:hover, .topnav .brand a:focus, .topnav .brand a:active {
      color:#fff !important; text-decoration:none !important; border:none !important; outline:none;
    }

    .menu { list-style: none; margin: 0; padding: 0; display: flex; gap: 20px; }
    .menu a {
      color: #fff; text-decoration: none; padding: 6px 2px; border-bottom: 2px solid transparent;
      font-weight: 500; transition: color .3s, border-color .3s;
    }
    .menu a:hover { color:#FFD700 !important; border-color:#FFD700 !important; }

    .menu-toggle {
      display: none; border: none !important; background: transparent !important; color: #fff !important;
      font-size: 1.6rem; cursor: pointer; width: 44px; height: 44px;
      align-items: center; justify-content: center; position: relative; z-index: 10004;
      -webkit-appearance: none; appearance: none; -webkit-tap-highlight-color: transparent;
      transition: color .3s ease;
    }
    .menu-toggle:hover { color:#FFD700 !important; }
    .menu-toggle:focus, .menu-toggle:active, .menu-toggle:focus-visible { outline:none !important; background:transparent !important; box-shadow:none !important; }

    @media (max-width: 768px) {
      .menu-toggle { display: flex; }
      .menu {
        position: fixed; top: 60px !important; right:0; bottom:0; width:78%; max-width:360px;
        display:flex; flex-direction:column; gap:16px; background:transparent; padding:40px 24px 24px;
        transform: translateX(100%); transition: transform .3s ease; z-index: 10002 !important;
      }
      .topnav.open .menu { transform: translateX(0); }
      .menu li { list-style:none; }
      .menu a { color:#fff !important; font-size:1.2em; font-weight:600; border:none; }
      .menu a:hover { color:#FFD700 !important; }
      .nav-backdrop { position: fixed; inset:0; background: rgba(0,0,0,0.75); opacity:0; pointer-events:none; transition: opacity .3s; z-index:9999 !important; }
      .topnav.open + .nav-backdrop { opacity:1; pointer-events:auto; }
      .brand img { height:36px; }
      .brand a { font-size:1.25em; }
    }

    /* Page Header */
    #page-header {
      text-align: center;
      max-width: 960px;
      margin: 110px auto 20px;
      padding: 0 18px;
    }
    #page-header h1 {
      color: #fff; margin: 0 0 6px; font-size: 2rem; font-weight: 700;
    }
    #page-header p {
      color: #cccccc; margin: 0.25em 0; line-height: 1.35;
    }

    /* Publications container */
    .pubs {
      max-width: 960px;
      margin: 10px auto 120px;
      padding: 0 18px;
    }

    /* Year heading */
    .pub-year {
      color: #FDB719;            /* your gold */
      font-weight: 700;
      margin: 26px 0 10px;
      border-bottom: 1px solid rgba(255,255,255,0.15);
      padding-bottom: 6px;
      font-size: 1.15rem;
    }

    /* Publication card */
    .pub {
      padding: 12px 0;
      border-bottom: 1px dashed rgba(255,255,255,0.12);
    }
    .pub:last-child { border-bottom: none; }

    .pub-title {
      color: #fff;
      font-weight: 600;
      margin: 0 0 2px;
      line-height: 1.35;
    }
    .pub-meta {
      color: #bfbfbf;
      margin: 0 0 6px;
      font-size: 0.95em;
    }
    .pub-actions {
      display: flex; gap: 12px; align-items: center; flex-wrap: wrap;
    }
    .pub-actions a, .pub-actions button {
      color: #fff; text-decoration: none;
      border: 1px solid rgba(255,255,255,0.35);
      padding: 6px 10px; border-radius: 8px; font-size: 0.9em;
      background: transparent; cursor: pointer;
      transition: border-color .25s, color .25s, background-color .25s;
    }
    .pub-actions a:hover, .pub-actions button:hover {
      color: #000; background: #FFD700; border-color: #FFD700;
    }

    /* Footer (same centered, fixed at bottom if you used that) */
    #footer {
      width: 100%; text-align: center; padding: 40px 0;
      display: flex; flex-direction: column; align-items:center; justify-content:center;
    }
    #footer .icons {
      display: flex; justify-content:center; align-items:center; gap:25px;
      margin-bottom:12px; list-style:none; padding:0;
    }
    #footer .icons a { color:#fff; transition: color .3s; font-size:1.3em; }
    #footer .icons a:hover { color:#FFD700; }
    #footer .copyright {
      color:#aaa; list-style:none; margin:0; padding:0; text-align:center;
    }
    #footer .copyright li { display:block; font-size:0.95em; margin:3px 0; }
    #footer .copyright li::before, #footer .copyright li::after { content:"" !important; display:none !important; }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="topnav" role="navigation" aria-label="Primary">
    <div class="inner">
      <div class="brand">
        <a href="index.html">
          <img src="images/logo.png" alt="Barbosa Lab Logo" />
          <span>Barbosa Lab</span>
        </a>
      </div>

      <button class="menu-toggle" aria-expanded="false" aria-controls="primary-menu" aria-label="Open menu" title="Open menu">
        <i class="fa-solid fa-bars"></i>
      </button>

      <ul id="primary-menu" class="menu">
        <li><a href="projects.html">Projects</a></li>
        <li><a href="publications.html" aria-current="page">Publications</a></li>
        <li><a href="conferences.html">Conferences</a></li>
        <li><a href="photos.html">Photos</a></li>
        <li><a href="equipment.html">Equipment</a></li>
      </ul>
    </div>
  </nav>
  <div class="nav-backdrop" hidden></div>

  <!-- PAGE HEADER -->
  <section id="page-header">
    <h1>Publications</h1>
    <p class="subtitle-gold" style="color:#FDB719">Innovating precision agriculture through interdisciplinary research.</p>
  </section>

  <!-- PUBLICATIONS LIST -->
  <main class="pubs" id="pubs"></main>

  <!-- FOOTER -->
  <footer id="footer">
    <ul class="icons">
      <li><a href="https://twitter.com/barbosaresearch" target="_blank" class="icon brands fa-x-twitter"><span class="label">X</span></a></li>
      <li><a href="https://www.instagram.com/barbosaresearchlab" target="_blank" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
      <li><a href="https://www.linkedin.com/company/barbosaresearchlab" target="_blank" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
      <li><a href="https://www.facebook.com/barbosaresearchlab" target="_blank" class="icon brands fa-facebook"><span class="label">Facebook</span></a></li>
    </ul>
    <ul class="copyright">
      <li>&copy; 2025 Barbosa Lab, University of Missouri. All rights reserved.</li>
      <li>Website Developed by Marcelo Barbosa</li>
    </ul>
  </footer>

  <!-- MENU JS -->
  <script>
    (function () {
      const nav = document.querySelector('.topnav');
      const btn = document.querySelector('.menu-toggle');
      const icon = btn.querySelector('i');
      const menu = document.getElementById('primary-menu');
      const backdrop = document.querySelector('.nav-backdrop');

      function lockScroll(lock) {
        document.documentElement.style.overflow = lock ? 'hidden' : '';
        document.body.style.overflow = lock ? 'hidden' : '';
      }
      function openMenu() {
        nav.classList.add('open');
        btn.setAttribute('aria-expanded', 'true');
        btn.setAttribute('aria-label', 'Close menu');
        btn.title = 'Close menu';
        icon.classList.replace('fa-bars', 'fa-xmark');
        backdrop && backdrop.removeAttribute('hidden');
        lockScroll(true);
      }
      function closeMenu() {
        nav.classList.remove('open');
        btn.setAttribute('aria-expanded', 'false');
        btn.setAttribute('aria-label', 'Open menu');
        btn.title = 'Open menu';
        icon.classList.replace('fa-xmark', 'fa-bars');
        backdrop && backdrop.setAttribute('hidden', '');
        lockScroll(false);
      }
      btn.addEventListener('click', (e) => { e.preventDefault(); nav.classList.contains('open') ? closeMenu() : openMenu(); });
      backdrop && backdrop.addEventListener('click', closeMenu);
      window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && nav.classList.contains('open')) closeMenu(); });
      menu.addEventListener('click', (e) => { if (e.target.closest('a') && window.matchMedia('(max-width: 768px)').matches) closeMenu(); });
    })();
  </script>

  <!-- PUBLICATIONS DATA + RENDER -->
  <script>
    // 1) Add your publications here.
    //    Use: { year, title, authors, journal, doi }
    const publications = [
      {
        year: 2025,
        title: "Designing and implementing a robotic system to support spraying drone operations",
        authors: "Barbosa Júnior, M. R.; Santos, R. G.; Sales, L. A.; Martins, J. V. S.; Santos, J. G.; Oliveira, L. P.",
        journal: "Actuators",
        doi: "10.3390/act14080365"
      },
      {
        year: 2025,
        title: "Forecasting yield and market class of Vidalia sweet onions: A UAV-based multispectral and texture data-driven approach",
        authors: "Barbosa Júnior, M. R.; Sales, L. A.; Santos, R. G.; Vargas, R. B. S.; Oliveira, L. P.",
        journal: "Smart Agricultural Technology",
        doi: "10.1016/j.atech.2025.100808"
      },
      // Add more like this:
      // { year: 2024, title: "Your Title", authors: "A; B; C", journal: "Journal Name", doi: "10.xxxx/xxxxx" },
    ];

    // 2) Helper: group by year (desc)
    function groupByYear(items) {
      const map = new Map();
      for (const p of items) {
        if (!map.has(p.year)) map.set(p.year, []);
        map.get(p.year).push(p);
      }
      // sort years desc
      return Array.from(map.entries()).sort((a,b) => b[0] - a[0]);
    }

    // 3) Render
    function renderPublications() {
      const container = document.getElementById('pubs');
      const groups = groupByYear(publications);
      container.innerHTML = "";

      for (const [year, items] of groups) {
        const h = document.createElement('h2');
        h.className = 'pub-year';
        h.textContent = year;
        container.appendChild(h);

        items.forEach(p => {
          const art = document.createElement('article');
          art.className = 'pub';
          art.setAttribute('itemscope', '');
          art.setAttribute('itemtype', 'https://schema.org/ScholarlyArticle');

          const title = document.createElement('h3');
          title.className = 'pub-title';
          title.setAttribute('itemprop', 'name');
          title.textContent = p.title;

          const meta = document.createElement('p');
          meta.className = 'pub-meta';
          meta.innerHTML =
            `<span itemprop="author">${p.authors}</span>. ` +
            `<em itemprop="isPartOf">${p.journal}</em>. ` +
            `<span itemprop="datePublished">${p.year}</span>.`;

          const actions = document.createElement('div');
          actions.className = 'pub-actions';

          if (p.doi) {
            const doiLink = document.createElement('a');
            doiLink.href = `https://doi.org/${p.doi}`;
            doiLink.target = "_blank";
            doiLink.rel = "noopener";
            doiLink.textContent = "DOI";
            doiLink.setAttribute('itemprop', 'identifier');
            actions.appendChild(doiLink);
          }

          const bibBtn = document.createElement('button');
          bibBtn.type = "button";
          bibBtn.textContent = "Copy BibTeX";
          bibBtn.addEventListener('click', () => {
            const bibtex = `@article{${(p.authors.split(';')[0] || 'Barbosa').trim().toLowerCase().replace(/[^a-z]/g,'')}${p.year},
  title = {${p.title}},
  author = {${p.authors}},
  journal = {${p.journal}},
  year = {${p.year}},
  doi = {${p.doi || ''}}
}`;
            navigator.clipboard.writeText(bibtex).then(() => {
              bibBtn.textContent = "Copied!";
              setTimeout(() => { bibBtn.textContent = "Copy BibTeX"; }, 1200);
            });
          });
          actions.appendChild(bibBtn);

          art.appendChild(title);
          art.appendChild(meta);
          art.appendChild(actions);
          container.appendChild(art);
        });
      }
    }

    renderPublications();
  </script>
</body>
</html>
